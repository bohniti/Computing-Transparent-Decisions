\documentclass[
    11pt,
    a4paper,
    egregdoesnotlikesansseriftitles,
    toc=chapterentrywithdots,
    twoside,openright,
	    titlepage,
    parskip=half,
    headings=normal,  % reduces heading size
    listof=totoc,
    bibliography=totoc,
    index=totoc,
    captions=tableheading,  % caption below table
    chapterprefix,
    listof=flat,
    final
]{scrbook}


% details about your thesis
\newcommand{\titel}{Automatic image recognition in upload filters - computing of transparent decisions (XAI), with the help of Deep Learning methods}
\newcommand{\artderarbeit}{Bachelor  thesis}
\newcommand{\autor}{Timo Bohnstedt}
\newcommand{\studiengang}{Bachelor of Science in Business Information Systems and Management}  % {Informatik,Wirtschaftsinformatik,Medieninformatik}
\newcommand{\matrikelnr}{301\,8484}
\newcommand{\erstgutachter}{Prof.\,Dr.~ Alfred Holl}
\newcommand{\zweitgutachter}{Prof.\,Dr.~ Florian Gallwitz}
\newcommand{\logo}{figures/TH-Nuernberg-RGB.png}
\newcommand{\keywords}{hot, fuzz}


% custom head and foot
\usepackage[automark]{scrlayer-scrpage}
\pagestyle{scrheadings}
\ihead{\headmark}
\chead{}
\ohead{\pagemark}
\renewcommand*\chaptermarkformat{\chapappifchapterprefix{\ }%
  \thechapter.\enskip}

\RedeclareSectionCommand[tocindent=0pt]{section}
\RedeclareSectionCommand[tocindent=0pt]{subsection}
%\RedeclareSectionCommand[tocnumwidth=70pt]{chapter}

\usepackage{scrhack}


% other packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern,relsize,textcomp,csquotes}
\usepackage{amsmath,amsfonts}
\usepackage[ngerman,english]{babel}  % flip for German thesis
\usepackage[final]{graphicx}
\usepackage{setspace,geometry,xcolor}
\usepackage{makeidx}
\usepackage{paralist,ifthen,todonotes}
\usepackage{url}
\usepackage{pdfpages}
\usepackage{xcolor}
\definecolor{definition}{RGB}{102,197,212}
\definecolor{th}{RGB}{71,137,148}
\usepackage{wrapfig}
\usepackage{lscape}
\usepackage{rotating}
\usepackage{epstopdf}
\usepackage[export]{adjustbox}
\usepackage{caption}
\captionsetup{format=plain,labelformat=parens,textfont=footnotesize}
\usepackage[section]{placeins}
\usepackage{subcaption}


% table setup
\usepackage{longtable}
\usepackage{array}
\usepackage{ragged2e}
\usepackage{lscape}

% pdf hyperref
\usepackage[
    bookmarks=true,
    bookmarksopen=true,
    bookmarksnumbered=true,
    bookmarksopenlevel=1,
    pdftitle={\titel},
    pdfauthor={\autor},
    pdfcreator={\autor},
    pdfsubject={\titel},
    pdfkeywords={\keywords},
    pdfpagelabels=true,
    colorlinks=true,
    linkcolor=th,
    urlcolor=th,
    anchorcolor=black,
    citecolor=th,
    filecolor=th,
    menucolor=red,
    plainpages=false,
    hypertexnames=true,
    linktocpage=false,
]{hyperref}


% configure your listings style
\usepackage{listings}
\lstset{
	tabsize=3,
	extendedchars=true,
	frame=single,
	showstringspaces=true,
	numbers=left,
	numberstyle=\small,
	breakautoindent=true
}

% page setup
% \setlength{\topskip}{\ht\strutbox}
\geometry{paper=a4paper,left=2.5cm,top=3.0cm,bindingoffset=.8cm}
\onehalfspacing
\frenchspacing
\clubpenalty = 10000
\widowpenalty = 10000
\displaywidowpenalty = 10000

% some commands
\newcommand{\ua}{\mbox{u.\,a.\ }}
\newcommand{\zB}{\mbox{z.\,B.\ }}
\newcommand{\dahe}{\mbox{d.\,h.,\ }}
\newcommand{\bzw}{\mbox{bzw.\ }}
\newcommand{\bzgl}{\mbox{bzgl.\ }}
\newcommand{\eg}{\mbox{e.\,g.\ }}
\newcommand{\ie}{\mbox{i.\,e.\ }}
\newcommand{\wrt}{\mbox{w.\,r.\,t.\ }}
\newcommand{\etal}{\mbox{\emph{et.\,al.\ }}}
\usepackage{verbatim}
\usepackage{array}
% TODO remove if not needed...
\usepackage{blindtext}
\usepackage[most]{tcolorbox}
\usepackage{epigraph}


\newtcolorbox[auto counter,
list inside=defs,
number within=section]{definition}[2][]{
	list entry={{\bfseries\thetcbcounter~#2}},
	title={Definition~\thetcbcounter},
	colback={definition!30!white},
	colbacktitle={white},
	coltitle=black,
	#1
}

\newcommand{\listofdefinitions}{%
	\tcblistof[\section*]{defs}{List of Definitions}
}


%Glossary
\usepackage[toc]{glossaries}
\loadglsentries{glossarie}
\usepackage{breakcites}
\usepackage{pythonhighlight}
%\usepackage{python}

\makeglossaries
%Glossary
\begin{document}
\setcounter{secnumdepth}{3}  % numerate subsections
\setcounter{tocdepth}{2}  % ...but don't include them in toc
\frontmatter
\include{cover}
\includepdf{SB_0050_FO_Pruefungsrechtliche_Erklaerung_und_Erklaerung_zur_Veroeffentlichung_der_Abschlussarbeit_public.pdf}
\let\cleardoublepage\clearpage
\include{content/0_abstract}
\tableofcontents
\let\cleardoublepage\clearpage
\mainmatter
\let\cleardoublepage\clearpage
\include{content/1_intro}
\let\cleardoublepage\clearpage
\include{content/2_theory}
\include{content/3_requirements}
\include{content/4_functional_specifications}
\include{content/5_it_specifications}
\include{content/6_evaluation}
\include{content/7_generalization}
\include{content/8_conclusion}
% remove if not needed
%\appendix
%\include{content/a1_supplemental}

\backmatter
\listoffigures

%\listoftables
\cleardoublepage
\renewcommand{\bibname}{References}
\renewcommand{\lstlistlistingname}{List of Listings}  % change for German thesis
\lstlistoflistings
\let\cleardoublepage\clearpage
\bibliographystyle{apalike}
\bibliography{refs}
\listofdefinitions
\printglossaries
\end{document}
